<div id="w-comments" class="post-comments<% if (!theme.waline.visitor) { %> lazy-load<% } %>"></div>
<script>
    var load_comm = () => {
        const init = () => {
            new Waline(Object.assign({
                el: '#w-comments',
                path: '<%- url_for(page.path) %>'
                emoji: [
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-flag',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-food',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-object',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-symbol',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-time',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-travel',
                    'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-weather',
                    'https://cdn.jsdelivr.net/gh/TsumugiWenders/emojis@0.0.1/usagi',
                ]
            }, JSON.parse('<%- JSON.stringify(theme.waline) %>')));
        }
        if (typeof Waline == 'undefined') {
            const src = 'https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js';
            $.getScript(src, init);
        } else {
            init();
        }
    };
</script>
<noscript>Please enable JavaScript to view the <a href="https://waline.js.org/">comments powered by Waline.</a></noscript>
